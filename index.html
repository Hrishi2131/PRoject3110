<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Happy Birthday My Little Star ğŸ’™</title>
Â  <style>
Â  Â  @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap');

Â  Â  :root {
Â  Â  Â  /* Sky Blue Focus (Sky/Opportunities) */
Â  Â  Â  --bg-grad-1: #1e3c72;
Â  Â  Â  --bg-grad-2: #2a5298;
Â  Â  Â  --gift-box-color: #89f7fe; /* Sky Blue */
Â  Â  Â  --gift-lid-color: #DDA0DD; /* Soft Lavender */
Â  Â  Â  --gift-ribbon-color: #ffffff;
Â  Â  Â  --text-color: #ffffff;
Â  Â  Â  --accent-color: #89f7fe; /* Sky Blue */
Â  Â  Â  --dark-blue: #00264d;
Â  Â  Â  --hug-color: #ffb6c1; /* Light Pink for the 'hug' effect */
Â  Â  }

Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  height: 100vh;
Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  color: var(--text-color);
Â  Â  Â  overflow: hidden;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  background: linear-gradient(135deg, var(--bg-grad-1), var(--bg-grad-2), #1e3c72);
Â  Â  Â  background-size: 200% 200%;
Â  Â  Â  animation: gradientShift 15s ease infinite;
Â  Â  }

Â  Â  @keyframes gradientShift {
Â  Â  Â  0% { background-position: 0% 50%; }
Â  Â  Â  50% { background-position: 100% 50%; }
Â  Â  Â  100% { background-position: 0% 50%; }
Â  Â  }

Â  Â  /* --- Intro Screen --- */
Â  Â  #intro {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0; left: 0;
Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  flex-direction: column;
Â  Â  Â  background: linear-gradient(135deg, #1e3c72, #2a5298);
Â  Â  Â  z-index: 100;
Â  Â  Â  transition: opacity 2s ease, visibility 2s;
Â  Â  }

Â  Â  #intro h1 {
Â  Â  Â  font-size: 2.5em; /* Slightly larger */
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 0 20px;
Â  Â  Â  border-right: 3px solid var(--accent-color);
Â  Â  Â  white-space: nowrap;
Â  Â  Â  overflow: hidden;
Â  Â  Â  animation: typing 3s steps(30) 1 normal both,
Â  Â  Â  Â  Â  Â  Â  Â  Â blinkCursor 0.75s steps(30) infinite normal;
Â  Â  Â  font-family: 'Dancing Script', cursive; /* Elegant font for title */
Â  Â  }
Â  Â Â 
Â  Â  #intro-prompt {
Â  Â  Â  margin-top: 25px; /* Spacing */
Â  Â  Â  font-size: 1.3em;
Â  Â  Â  opacity: 0;
Â  Â  Â  animation: fadeIn 1s ease forwards 3.5s;
Â  Â  Â  cursor: pointer;
Â  Â  Â  text-shadow: 0 0 10px var(--accent-color); /* Subtle glow */
Â  Â  }

Â  Â  @keyframes typing { from { width: 0; } to { width: 100%; } }
Â  Â  @keyframes blinkCursor {Â 
Â  Â  Â  from { border-right-color: var(--accent-color); }Â 
Â  Â  Â  to { border-right-color: transparent; }Â 
Â  Â  }
Â  Â  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
Â  Â  @keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

Â  Â  /* --- Gift Selection Screen --- */
Â  Â  .screen {
Â  Â  Â  opacity: 0;
Â  Â  Â  display: none;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  animation: fadeIn 2s ease forwards;
Â  Â  Â  z-index: 10;
Â  Â  }
Â  Â Â 
Â  Â  #gift-screen {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 40px; /* Increased gap */
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  padding: 20px;
Â  Â  }
Â  Â Â 
Â  Â  .gift-title {
Â  Â  Â  width: 100%;
Â  Â  Â  text-align: center;
Â  Â  Â  font-family: 'Dancing Script', cursive;
Â  Â  Â  font-size: 3.5em; /* Larger title */
Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  color: var(--accent-color);
Â  Â  }

Â  Â  /* --- CSS Gift Box --- */
Â  Â  .gift {Â 
Â  Â  Â  position: relative;Â 
Â  Â  Â  display: flex;Â 
Â  Â  Â  flex-direction: column;Â 
Â  Â  Â  align-items: center;Â 
Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  opacity: 1;Â 
Â  Â  Â  transition: opacity 0.5s ease;
Â  Â  Â  animation: danceScale 2s ease-in-out infinite alternate; /* NEW: Subtle dance animation */
Â  Â  }
Â  Â Â 
Â  Â  @keyframes danceScale {
Â  Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  Â  100% { transform: scale(1.03); }
Â  Â  }

Â  Â  .gift.opened { opacity: 0.6; cursor: default; }
Â  Â  .gift-label {Â 
Â  Â  Â  font-size: 1.2em;Â 
Â  Â  Â  font-weight: 600;Â 
Â  Â  Â  margin-top: 15px;Â 
Â  Â  Â  transition: color 0.3s;
Â  Â  Â  color: var(--accent-color); /* Labels are sky blue */
Â  Â  }
Â  Â Â 
Â  Â  /* ... rest of gift box styles (unchanged parts kept brief) ... */
Â  Â  .gift:not(.opened):hover .gift-label { color: var(--gift-lid-color); }
Â  Â  .gift:not(.opened):hover .lid { transform: translateY(-10px) rotate(-3deg); }
Â  Â  .gift-box { width: 150px; height: 120px; background-color: var(--gift-box-color); position: relative; border-radius: 8px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
Â  Â  .gift-box::before { content: ''; position: absolute; width: 30px; height: 100%; background-color: var(--gift-ribbon-color); left: 50%; transform: translateX(-50%); }
Â  Â  .lid { width: 170px; height: 40px; background-color: var(--gift-lid-color); position: absolute; top: -20px; left: 50%; transform: translateX(-50%); border-radius: 8px; z-index: 1; transition: transform 0.5s ease-out; }
Â  Â  .lid::before { content: ''; position: absolute; width: 100%; height: 30px; background-color: var(--gift-ribbon-color); top: 50%; transform: translateY(-50%); }
Â  Â  .gift.open .lid { animation: openLid 1s ease-out forwards; }
Â  Â  @keyframes openLid {
Â  Â  Â  0% { transform: translateX(-50%) translateY(0) rotate(0deg); }
Â  Â  Â  60% { transform: translateX(-120%) translateY(-100px) rotate(-25deg); }
Â  Â  Â  100% { transform: translateX(-150%) translateY(-120px) rotate(-30deg); opacity: 0; }
Â  Â  }


Â  Â  /* --- Message Screen --- */
Â  Â  .message-screen {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0; left: 0;
Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  background: rgba(10, 20, 60, 0.95);
Â  Â  Â  display: none;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  color: white;
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 30px;
Â  Â  Â  z-index: 20;
Â  Â  Â  animation: fadeIn 1s ease;
Â  Â  }

Â  Â  .message-screen h2 {
Â  Â  Â  font-size: 3em;
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  font-family: 'Dancing Script', cursive;
Â  Â  Â  color: var(--hug-color); /* Sweet header color */
Â  Â  }

Â  Â  .message-text {
Â  Â  Â  font-size: 1.4em; /* Slightly larger text */
Â  Â  Â  max-width: 650px; /* Wider text block */
Â  Â  Â  line-height: 1.7em;
Â  Â  Â  white-space: pre-wrap;
Â  Â  Â  min-height: 100px;
Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  }
Â  Â Â 
Â  Â  /* Text breathing animation */
Â  Â  .message-text.breathing-text {
Â  Â  Â  animation: textBreathe 2.5s ease-in-out infinite;
Â  Â  }
Â  Â Â 
Â  Â  @keyframes textBreathe {
Â  Â  Â  0%, 100% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.4); }
Â  Â  Â  50% { text-shadow: 0 0 12px var(--accent-color); } /* Sky blue glow */
Â  Â  }


Â  Â  button.next-btn {
Â  Â  Â  margin-top: 40px;
Â  Â  Â  background: var(--hug-color); /* Hug color for buttons */
Â  Â  Â  border: none;
Â  Â  Â  color: var(--dark-blue);
Â  Â  Â  padding: 12px 25px;
Â  Â  Â  border-radius: 30px;
Â  Â  Â  font-size: 1em;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  box-shadow: 0 0 15px rgba(255,255,255,0.3);
Â  Â  Â  transition: all 0.3s;
Â  Â  }

Â  Â  button.next-btn:hover {
Â  Â  Â  transform: scale(1.05);
Â  Â  Â  box-shadow: 0 0 25px rgba(255,255,255,0.5);
Â  Â  }
Â  Â Â 
Â  Â  /* --- Finale Screen (The LDR Hug) --- */
Â  Â  #finale-screen {
Â  Â  Â  z-index: 30;
Â  Â  Â  background: var(--dark-blue);
Â  Â  Â  /* NEW: Simulating the feeling of a hug/cuddle */
Â  Â  Â  box-shadow: inset 0 0 100px var(--hug-color), 0 0 50px var(--hug-color);
Â  Â  Â  transition: box-shadow 3s ease-out; /* Smooth transition into the hug */
Â  Â  }
Â  Â  #finale-screen h2 {
Â  Â  Â  font-size: 4em;
Â  Â  Â  color: var(--hug-color);
Â  Â  }
Â  Â  #finale-screen .message-text {
Â  Â  Â  font-size: 1.7em;
Â  Â  Â  font-weight: 600;
Â  Â  Â  color: var(--gift-ribbon-color);
Â  Â  }

Â  Â  /* --- Background Hearts & Burst (kept for brevity, no change) --- */
Â  Â  .heart { position: absolute; bottom: -50px; color: var(--accent-color); animation: floatUp 8s linear infinite; pointer-events: none; }
Â  Â  @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-110vh); opacity: 0; } }
Â  Â  .heart-burst { position: fixed; font-size: 20px; color: var(--hug-color); pointer-events: none; z-index: 999; animation: burst 1s ease-out forwards; }
Â  Â  @keyframes burst { 0% { transform: translate(0, 0) scale(1); opacity: 1; } 100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; } }

Â  </style>
</head>
<body>

Â  <div id="intro">
Â  Â  <h1>ğŸ’™âœ¨ Happy Birthday, My Little Star ğŸ‘‘âœ¨ğŸ’™</h1>
Â  Â  <div id="intro-prompt">Click to Begin the Journey</div>
Â  </div>
Â Â 
Â  <div id="intro-msg-1" class="message-screen">
Â  Â  <h2 id="intro-title-1">From My Sky to Yours... ğŸŒŒ</h2>
Â  Â  <div class="message-text" id="intro-text-1"></div>
Â  Â  <button class="next-btn" onclick="nextStep()">Continue ğŸ’–</button>
Â  Â  </div>
Â Â 
Â  <div id="intro-msg-2" class="message-screen">
Â  Â  <h2 id="intro-title-2">The Sweetest Melody... ğŸ¶</h2>
Â  Â  <div class="message-text" id="intro-text-2"></div>
Â  Â  <button class="next-btn" onclick="nextStep()">Next Chapter âœ¨</button>
Â  </div>

Â  Â  <div id="song-dedication-screen" class="message-screen">
Â  Â  <h2>A Dedication to My Beautiful Star âœ¨</h2>
Â  Â  <div class="message-text breathing-text" id="intro-text-song"></div>
Â  Â  <button class="next-btn" onclick="nextStep()">Continue to the Hug â¤ï¸</button>
Â  </div>
Â  Â  <div id="intro-transition" class="message-screen">
Â  Â  <h2>The Reason I Love You... â¤ï¸</h2>
Â  Â  <div class="message-text" id="intro-text-transition"></div>
Â  Â  <button class="next-btn" onclick="nextStep()">Open Your Gifts ğŸ</button>
Â  </div>

Â  <div id="gift-screen" class="screen">
Â  Â  <h1 class="gift-title">Choose Your Treasure...</h1>
Â  Â Â 
Â  Â  <div class="gift" id="gift-1" onclick="openGift(1)">
Â  Â  Â  <div class="lid"></div>
Â  Â  Â  <div class="gift-box"></div>
Â  Â  Â  <div class="gift-label">A Precious Memory ğŸ’Œ</div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="gift" id="gift-2" onclick="openGift(2)">
Â  Â  Â  <div class="lid"></div>
Â  Â  Â  <div class="gift-box"></div>
Â  Â  Â  <div class="gift-label">A Forever Wish âœ¨</div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="gift" id="gift-3" onclick="openGift(3)">
Â  Â  Â  <div class="lid"></div>
Â  Â  Â  <div class="gift-box"></div>
Â  Â  Â  <div class="gift-label">An Unbreakable Promise ğŸ’</div>
Â  Â  </div>
Â  </div>

Â  <div id="message-1" class="message-screen">
Â  Â  <h2>A Precious Memory... ğŸ’Œ</h2>
Â  Â  <div class="message-text" id="text-1"></div>
Â  Â  <button class="next-btn" onclick="closeMessage(1)">Close & Back to Gifts</button>
Â  </div>
Â  <div id="message-2" class="message-screen">
Â  Â  <h2>A Forever Wish... âœ¨</h2>
Â  Â  <div class="message-text" id="text-2"></div>
Â  Â  <button class="next-btn" onclick="closeMessage(2)">Close & Back to Gifts</button>
Â  </div>
Â  <div id="message-3" class="message-screen">
Â  Â  <h2>An Unbreakable Promise... ğŸ’</h2>
Â  Â  <div class="message-text" id="text-3"></div>
Â  Â  <button class="next-btn" onclick="closeMessage(3)">Close & Back to Gifts</button>
Â  </div>
Â Â 
Â  <div id="finale-screen" class="message-screen screen">
Â  Â  <h2>Happy Birthday, My Safe Place. ğŸ«‚</h2>
Â  Â  <div class="message-text" id="text-finale"></div>
Â  </div>

Â  <audio id="ambientMusic" loop>
Â  Â  <source src="https://cdn.pixabay.com/download/audio/2023/12/28/audio_6509f64860.mp3?filename=soft-romantic-piano-176378.mp3" type="audio/mpeg">
Â  </audio>

Â  Â  <audio id="dedicationSong" preload="auto">
Â  Â  <source src="https://archive.org/download/MainAgarKahoon/Main%20Agar%20Kahoon.mp3" type="audio/mpeg">
Â  </audio>
Â  Â  <div id="hearts-container"></div>

Â  <script>
Â  Â  // --- âœï¸ ENHANCED MESSAGES HERE âœï¸ ---
Â  Â  const messages = {
Â  Â  Â  "msg1": "My dearest **Preeti**, this small space is designed in **Sky Blue**, a tribute to your boundless heart and dreams. Though miles separate us, the promise of our connection is as vast and endless as the sky itself. This journey is for you, my self-motivated, beautiful Lady. ğŸ’™",
Â  Â  Â  "msg2": "You are the *sweetest* girl, my little **baby**.\nYour infectious, **joyful laugh** at your own lame jokes is the music I love most. Your smile, like when you wear a **saree** or **kurti**, makes my heart ache in the best way. For me, you are pure, simple, and the most beautiful thing in the world. **Never change.** ğŸ¶",
Â  Â  Â Â 
Â  Â  Â  // â­ NEW SONG DEDICATION MESSAGE â­
Â  Â  Â  "msg3": "Hey beautiful, this song describes you and my feelings for you perfectly. It's a dedication to my **Little Star**, wishing her the happiest birthday! Close your eyes and listen. ğŸ¼",
Â  Â  Â  // â­ END NEW MESSAGE â­

Â  Â  Â  "transition": "Every time you open one of these, remember that just as you feel safe in my **hug**, I feel whole because of your kind, chubby presence. These gifts are not just words, but a piece of my heart traveling across the distance to you. **It's time for the cuddle...**",
Â  Â  Â  "gift1": "My favorite memory? It's every night I got to **cuddle** youâ€”you sleeping like my small, cute **baby** girl. That peace, that safety... that feeling is the **Memory** I carry through this LDR. You make distance feel temporary. ğŸ«‚",
Â  Â  Â  "gift2": "My **Wish** is that you never feel the need to change for anyone, especially not your beautiful **chubbiness**. You are perfect, adorable, and delicious just the way you are. May all your opportunities under that **sky** come true! âœ¨",
Â  Â  Â  "gift3": "My **Promise** is simple: I will always be your **safe space**. Your **hug** will always be waiting. I promise to support your cooking adventures (and eat all the food!) and to always treat you like the precious little girl you are to me. I love you, baby. ğŸ’",
Â  Â  Â  "finale": "This is my **LDR hug**. Iâ€™m holding you tight now. Close your eyes, feel the warmth, and know that you are **safe** here. Happy Birthday to the most beautiful, kind, and chubby girl in my world. I love you always, my **Little Star**! ğŸ‚ğŸ’–"
Â  Â  };
Â  Â  // ----------------------------------------

Â  Â  const intro = document.getElementById('intro');
Â  Â  const introMsg1 = document.getElementById('intro-msg-1');
Â  Â  const introMsg2 = document.getElementById('intro-msg-2');
Â  Â  // â­ NEW ELEMENT VARIABLE â­
Â  Â  const songDedicationScreen = document.getElementById('song-dedication-screen');
Â  Â  // â­ END NEW VARIABLE â­
Â  Â  const introTransition = document.getElementById('intro-transition');
Â  Â  const giftScreen = document.getElementById('gift-screen');
Â  Â  const finaleScreen = document.getElementById('finale-screen');
Â  Â  const ambient = document.getElementById('ambientMusic');
Â  Â  // â­ NEW SONG VARIABLE â­
Â  Â  const dedication = document.getElementById('dedicationSong');
Â  Â  // â­ END NEW SONG VARIABLE â­
Â  Â  const heartsContainer = document.getElementById('hearts-container');
Â  Â Â 
Â  Â  let currentStep = 0;
Â  Â  let giftsOpened = 0;
Â  Â  const totalGifts = 3;

Â  Â  // --- 1. Start the Experience ---
Â  Â  intro.addEventListener('click', () => {
Â  Â  Â  intro.style.animation = "fadeOut 2s ease forwards";
Â  Â  Â Â 
Â  Â  Â  // Start music with fade-in
Â  Â  Â  ambient.volume = 0;
Â  Â  Â  ambient.play().catch(e => console.log("Ambient Autoplay blocked."));
Â  Â  Â  let v = 0;
Â  Â  Â  const fade = setInterval(() => {
Â  Â  Â  Â  if (v < 0.3) {
Â  Â  Â  Â  Â  v += 0.02;
Â  Â  Â  Â  Â  ambient.volume = Math.min(v, 0.3);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  clearInterval(fade);
Â  Â  Â  Â  }
Â  Â  Â  }, 200);
Â  Â  Â Â 
Â  Â  Â  // Start background hearts (Sky Blue)
Â  Â  Â  setInterval(createFloatingHeart, 700);
Â  Â  Â Â 
Â  Â  Â  // Start the message sequence
Â  Â  Â  setTimeout(startSequence, 1000);Â 
Â  Â  }, { once: true });
Â  Â Â 
Â  Â  // --- 2. Handle Message/Poem Flow ---
Â  Â  function startSequence() {
Â  Â  Â  Â  currentStep = 1;
Â  Â  Â  Â  introMsg1.style.display = 'flex';
Â  Â  Â  Â  typeWriterEffect('intro-text-1', messages.msg1);
Â  Â  }

Â  Â  function nextStep() {
Â  Â  Â  // Hide the current message screen
Â  Â  Â  document.querySelectorAll('.message-screen').forEach(m => {
Â  Â  Â  Â  if (m.style.display === 'flex') {
Â  Â  Â  Â  Â  m.style.display = 'none';
Â  Â  Â  Â  Â  m.querySelector('.message-text').classList.remove('breathing-text');
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  currentStep++;
Â  Â  Â Â 
Â  Â  Â  if (currentStep === 2) {
Â  Â  Â  Â  introMsg2.style.display = 'flex';
Â  Â  Â  Â  typeWriterEffect('intro-text-2', messages.msg2);
Â  Â  Â  }Â 
Â  Â  Â  // â­ NEW STEP 3: DEDICATION SONG â­
Â  Â  Â  else if (currentStep === 3) {
Â  Â  Â  Â  // Pause ambient music and play the dedication song
Â  Â  Â  Â  ambient.pause();
Â  Â  Â  Â  ambient.currentTime = 0; // Rewind ambient music
Â  Â  Â  Â  dedication.volume = 0.6; // Set song volume
Â  Â  Â  Â  dedication.play().catch(e => console.log("Dedication autoplay blocked."));
Â  Â  Â  Â Â 
Â  Â  Â  Â  songDedicationScreen.style.display = 'flex';
Â  Â  Â  Â  typeWriterEffect('intro-text-song', messages.msg3);
Â  Â  Â  }
Â  Â  Â  // â­ UPDATED STEP 4: TRANSITION MESSAGE â­
Â  Â  Â  else if (currentStep === 4) {
Â  Â  Â  Â  // Stop dedication song and resume ambient music
Â  Â  Â  Â  dedication.pause();
Â  Â  Â  Â  ambient.play();
Â  Â  Â  Â Â 
Â  Â  Â  Â  introTransition.style.display = 'flex';
Â  Â  Â  Â  typeWriterEffect('intro-text-transition', messages.transition);
Â  Â  Â  }Â 
Â  Â  Â  // UPDATED STEP 5: GIFT SCREEN
Â  Â  Â  else if (currentStep === 5) {
Â  Â  Â  Â  // Show the gift screen and start main flow
Â  Â  Â  Â  giftScreen.style.display = "flex";
Â  Â  Â  Â  giftScreen.style.opacity = "1";
Â  Â  Â  }
Â  Â  }

Â  Â  // --- 3. Handle Gift Opening ---
Â  Â  function openGift(giftNum) {
Â  Â  Â  const giftElement = document.getElementById(`gift-${giftNum}`);
Â  Â  Â  if (giftElement.classList.contains('opened')) return;

Â  Â  Â  giftElement.classList.add('opened', 'open');
Â  Â  Â  giftsOpened++;
Â  Â  Â  createHeartBurst(giftElement);

Â  Â  Â  const messageId = `message-${giftNum}`;
Â  Â  Â  const textId = `text-${giftNum}`;
Â  Â  Â Â 
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  document.getElementById(messageId).style.display = "flex";
Â  Â  Â  Â  typeWriterEffect(textId, messages[`gift${giftNum}`]);
Â  Â  Â  }, 800);
Â  Â  }

Â  Â  // --- 4. Handle Closing Gift Message ---
Â  Â  function closeMessage(giftNum) {
Â  Â  Â  const messageElement = document.getElementById(`message-${giftNum}`);
Â  Â  Â  messageElement.style.display = 'none';
Â  Â  Â  messageElement.querySelector('.message-text').classList.remove('breathing-text');
Â  Â  Â Â 
Â  Â  Â  if (giftsOpened === totalGifts) {
Â  Â  Â  Â  showFinale();
Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  // --- 5. Show Final, Permanent Screen (The Hug) ---
Â  Â  function showFinale() {
Â  Â  Â  giftScreen.style.animation = "fadeOut 1s ease forwards";

Â  Â  Â  finaleScreen.style.display = "flex";
Â  Â  Â  finaleScreen.style.opacity = "1";
Â  Â  Â  finaleScreen.style.visibility = "visible";

Â  Â  Â  typeWriterEffect('text-finale', messages.finale);
Â  Â  Â  createHeartBurst(finaleScreen, 50);
Â  Â  }

Â  Â  // --- Effects ---
Â  Â  function typeWriterEffect(elementId, text) {
Â  Â  Â  const textElement = document.getElementById(elementId);
Â  Â  Â  textElement.textContent = "";
Â  Â  Â  textElement.classList.remove('breathing-text');Â 
Â  Â  Â  let i = 0;
Â  Â  Â  const speed = 50;
Â  Â  Â Â 
Â  Â  Â  const interval = setInterval(() => {
Â  Â  Â  Â  if (i < text.length) {
Â  Â  Â  Â  Â  textElement.textContent += text.charAt(i);
Â  Â  Â  Â  Â  i++;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  clearInterval(interval);
Â  Â  Â  Â  Â  textElement.classList.add('breathing-text');Â 
Â  Â  Â  Â  }
Â  Â  Â  }, speed);
Â  Â  }

Â  Â  function createFloatingHeart() {
Â  Â  Â  const heart = document.createElement('div');
Â  Â  Â  heart.classList.add('heart');
Â  Â  Â  heart.innerHTML = ['ğŸ’™','ğŸ’–','âœ¨','ğŸ’˜'][Math.floor(Math.random() * 4)];
Â  Â  Â  heart.style.left = Math.random() * 100 + 'vw';
Â  Â  Â  heart.style.fontSize = 15 + Math.random() * 25 + 'px';
Â  Â  Â  heart.style.animationDuration = 6 + Math.random() * 4 + 's';
Â  Â  Â  heartsContainer.appendChild(heart);
Â  Â  Â  setTimeout(() => heart.remove(), 10000);
Â  Â  }
Â  Â Â 
Â  Â  function createHeartBurst(element, count = 20) {
Â  Â  Â  const rect = element.getBoundingClientRect();
Â  Â  Â  const startX = rect.left + rect.width / 2;
Â  Â  Â  const startY = rect.top + rect.height / 2;
Â  Â  Â Â 
Â  Â  Â  for (let i = 0; i < count; i++) {
Â  Â  Â  Â  const heart = document.createElement('div');
Â  Â  Â  Â  heart.classList.add('heart-burst');
Â  Â  Â  Â  heart.innerHTML = ['ğŸ’–', 'ğŸ’', 'ğŸ’™'][i % 3];
Â  Â  Â  Â  heart.style.left = startX + 'px';
Â  Â  Â  Â  heart.style.top = startY + 'px';
Â  Â  Â  Â Â 
Â  Â  Â  Â  const randX = (Math.random() - 0.5) * 300;
Â  Â  Â  Â  const randY = (Math.random() - 0.5) * 300;
Â  Â  Â  Â Â 
Â  Â  Â  Â  heart.style.setProperty('--x', `${randX}px`);
Â  Â  Â  Â  heart.style.setProperty('--y', `${randY}px`);
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.body.appendChild(heart);
Â  Â  Â  Â  setTimeout(() => heart.remove(), 1000);
Â  Â  Â  }
Â  Â  }
Â  </script>
</body>
</html>
